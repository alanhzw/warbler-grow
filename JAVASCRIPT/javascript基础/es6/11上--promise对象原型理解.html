<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
		/*	
		1.理解:
			*Promise对象:代表了未来某个将要发生的事情(通常是一个异步操作)
			*有了Promise对象,可以将异步操作以同步的流程表达出来,避免了层层嵌套的回调函数(俗称"回调地狱")
			*ES6的Promise是一个构造函数,用来生成promise实例
		2.使用Promise基本步骤(2步):
			*创建promise对象
			let promise = new Promise((resolve,reject)=>{
				//初始化promise状态为pending
				//执行异步操作
				if (异步操作成功) {
					resolve(value);//修改promise的状态为fullfilled
				}else{
					reject(err);//修改promise的状态为rejected
				}
			});
			*调用promise的then()
			promise.then(function(
				result => console.log(result),
				err => alert(err);
			))
		3.promise的三个状态
			*pending:初始化状态
			*fullfilled:成功状态
			*rejected:失败状态
		4.应用:
			*使用promise实现超时处理
			*使用promise封装ajax请求
			let request = new XMLHttpRequest();
			request.onreadystatechange = function(){
				
			}
			request.responseType = "json";
			request.open("get",url);
			request.send();
		*/
		
		
			//创建promise对象
			let promise = new Promise((resolve,rejected)=>{
				//初始化promise状态为:pending:初始化
				console.log("111");
				//执行异步操作,通常是发送ajax请求,开启定时器
				setTimeout(()=>{
					console.log("333");
					//根据异步任务的返回结果去修改promise的状态
					//异步任务执行成功
					resolve("哈哈");//修改promise的状态为  fullfilled  ---成功的状态
					//异步任务执行失败
					//reject("5555");//修改promise的状态位 rejected  --- 失败的状态
				},2000)   
			});
			console.log("222");
			
			promise
				.then((data)=>{//成功的回调
					console.log(data,"成功了....");
				},(error)=>{//失败的回调
					console.log(error,"失败了...");
				})
		
		
		
		
		
		
		
			
			
			
			
			
			
		 	
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		</script>
	</body>
</html>
