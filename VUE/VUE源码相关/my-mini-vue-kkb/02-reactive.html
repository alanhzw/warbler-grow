<!--
 * @Author: ä¸€å°¾æµèº
 * @Description:
 * @Date: 2021-11-24 09:28:52
 * @LastEditTime: 2021-11-24 15:44:59
 * @FilePath: \my-mini-vue-kkb\02-reactive.html
-->
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible"
          content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <div id='app'>123</div>
  </body>


  <script>
    function defineReactive(obj, key, val) {
      // é€šè¿‡è¯¥æ–¹æ³•æ‹¦æˆªæ•°æ®
      Object.defineProperty(obj, key, {
        // è¯»å–æ•°æ®çš„æ—¶å€™ä¼šèµ°è¿™é‡Œ
        get() {
          console.log('ğŸš€ğŸš€~ get:', key);
          return val
        },
        // æ›´æ–°æ•°æ®çš„æ—¶å€™ä¼šèµ°è¿™é‡Œ
        set(newVal) {
          // åªæœ‰å½“æ–°å€¼å’Œæ—§å€¼ä¸åŒçš„æ—¶å€™ æ‰ä¼šè§¦å‘é‡æ–°èµ‹å€¼æ“ä½œ
          if (newVal !== val) {
            console.log('ğŸš€ğŸš€~ set:', key);
            val = newVal
          }
        }
      })
    }
    const obj = {
      foo: 'foo',
      bar: 'bar'
    }

    defineReactive(obj, 'foo', '')



    obj.foo = new Date().toLocaleTimeString()




  </script>

</html>